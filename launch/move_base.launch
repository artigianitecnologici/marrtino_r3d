<launch>

<arg name="robot_name" default="marrtinox" />
<arg name="base_frame" default="base_frame" />
<arg name="laser_topic" default="scan" />
<arg name="laser_frame" default="laser_frame" />
<arg name="paramsdir" default="$(find marrtino_r3d)/config/$(arg robot_name)" />
<node pkg="move_base" type="move_base" respawn="false" name="move_base_node" output="screen">

 
 <!--<remap from="/cmd_vel" to="/marrtino_diff_drive_controller/cmd_vel"/>-->
 <rosparam file="$(find marrtino_r3d)/config/$(arg robot_name)/costmap_common_params.yaml" command="load" ns="global_costmap" /> 
 <rosparam file="$(find marrtino_r3d)/config/$(arg robot_name)/costmap_common_params.yaml" command="load" ns="local_costmap" />
 <rosparam file="$(find marrtino_r3d)/config/$(arg robot_name)/local_costmap_params.yaml" command="load" />
 <rosparam file="$(find marrtino_r3d)/config/$(arg robot_name)/global_costmap_params.yaml" command="load" /> 
  <rosparam file="$(find marrtino_r3d)/config/$(arg robot_name)/base_local_planner_params.yaml" command="load" /> 
  <!-- Override MOVE_BASE Frame Params to include prefix -->
  <param name="global_costmap/global_frame" value="map" />   
  <param name="global_costmap/static_layer/map_topic" value="map" />    
  <param name="global_costmap/laser_scan_sensor/sensor_frame" value="$(arg laser_frame)" />
  <param name="global_costmap/laser_scan_sensor/topic" value="$(arg laser_topic)" />
  <param name="global_costmap/robot_base_frame" value="$(arg base_frame)" />   
  <param name="local_costmap/global_frame" value="odom" />
  <param name="local_costmap/laser_scan_sensor/sensor_frame" value="$(arg laser_frame)" />
  <param name="local_costmap/laser_scan_sensor/topic" value="$(arg laser_topic)" />
  <param name="local_costmap/robot_base_frame" value="$(arg base_frame)" /> 

 
</node>

</launch>
<!--

<launch>
    <node name="move_base" type="move_base" pkg="move_base">
        <remap from="/cmd_vel" to="/marrtino_diff_drive_controller/cmd_vel"/>s
        <rosparam file="$(find marrtino_utilities)/config/costmap_common_params.yaml" command="load" ns="global_costmap" /> 
        <rosparam file="$(find marrtino_utilities)/config/costmap_common_params.yaml" command="load" ns="local_costmap" />
        <rosparam file="$(find marrtino_utilities)/config/local_costmap_params.yaml" command="load" />
        <rosparam file="$(find marrtino_utilities)/config/global_costmap_params.yaml" command="load" /> 
        <rosparam file="$(find marrtino_utilities)/config/base_local_planner_params.yaml" command="load" /> 
    </node>
</launch>


-->
